# PostCSS WP [![Build Status][ci-img]][ci]

<img align="right" width="135" height="95" src="http://postcss.github.io/postcss/logo-leftp.png" title="Philosopherâ€™s stone, logo of PostCSS">

[PostCSS WP] is a [PostCSS] plugin that allows you to generate WordPress PHP files from CSS files.

**This plugin is in a very experimental state.**

```sass
@php {
/**
 * Template Name: Search Results (hard-coded)
 *
 * @package JDRF 2015
 * @since 0.1.0
 */

get_header();
}

@if (true) {
	h1 {
		content: "Welcome to CSS";
	}
}

nav.sidebar.--main {
	ul[role="menu"] {
		@foreach ( $sidebar_items as $item ) {
			li:class( $item->active, active ) {
				esc_html: $item->title;
			}
		}
	}
}
```

```php
<?php
/**
 * Template Name: Search Results (hard-coded)
 *
 * @package JDRF 2015
 * @since 0.1.0
 */

get_header();
?>

<?php if (true) { ?>
	<h1>
		Welcome to CSS
	</h1>
<?php } ?>

<nav class="sidebar --main">
	<ul role="menu">
		<?php foreach ( $sidebar_items as $item ) { ?>
			<li class="<?php if ($item->active) { echo esc_attr('active'); } ?>">
				<?php echo esc_html($item->title); ?>
			</li>
		<?php } ?>
	</ul>
</nav>
```

## Usage

You just need to follow these two steps to use [PostCSS WP]:

1. Add [PostCSS] to your build tool.
2. Add [PostCSS WP] as a PostCSS process.

```sh
npm install postcss-wp --save-dev
```

### Node

```js
postcss([ require('postcss-wp')({ /* options */ }) ])
```

### Grunt

Install [Grunt PostCSS]:

```shell
npm install postcss-wp --save-dev
```

Enable [PostCSS WP] within your Gruntfile:

```js
grunt.loadNpmTasks('grunt-postcss');

grunt.initConfig({
	postcss: {
		options: {
			processors: [
				require('postcss-wp')({ /* options */ })
			],
			safe: true
		},
		dist: {
			src: 'css/*.css'
		}
	}
});
```

### Options

**dest** (string): path to the file generated by CSS.

```js
{
	dest: 'foo.php' // output to foo.php 
}
```

[ci]: https://travis-ci.org/jonathantneal/postcss-wp
[ci-img]: https://travis-ci.org/jonathantneal/postcss-wp.svg
[Grunt PostCSS]: https://github.com/nDmitry/grunt-postcss
[PostCSS]: https://github.com/postcss/postcss
[PostCSS WP]: https://github.com/jonathantneal/postcss-wp
